
@model SistemaArtemis.Models.Usuario
@{
    Layout = null;
    List<SistemaArtemis.Models.Tipo_Usuario> tipousuario = ViewBag.tipo;
}

<!Doctype html>
<html lang="es_ES">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Sistema Serf</title>
    <meta name="description" content="Portal de empleos / Bolsa de trabajo" />
    <meta name="keywords" content="trabajo, empleos, cv, curriculum, empresas, carrera, profesionales, tecnicos, bolsa de trabajo" />
    <link rel="shortcut icon" href="~/Content/images/ico/favicon.ico">

    <link rel="stylesheet" type="text/css" href="~/Content/bootstrap/css/bootstrap.min.css" media="screen">
    <link href="~/Content/css/animate.css" rel="stylesheet">
    <link href="~/Content/css/main.css" rel="stylesheet">
    <link href="~/Content/css/component.css" rel="stylesheet">

    <link rel="stylesheet" href="~/Content/icons/linearicons/style.css">
    <link rel="stylesheet" href="~/Content/icons/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="~/Content/icons/simple-line-icons/css/simple-line-icons.css">
    <link rel="stylesheet" href="~/Content/icons/ionicons/css/ionicons.css">
    <link rel="stylesheet" href="~/Content/icons/pe-icon-7-stroke/css/pe-icon-7-stroke.css">
    <link rel="stylesheet" href="~/Content/icons/rivolicons/style.css">
    <link rel="stylesheet" href="~/Content/icons/flaticon-line-icon-set/flaticon-line-icon-set.css">
    <link rel="stylesheet" href="~/Content/icons/flaticon-streamline-outline/flaticon-streamline-outline.css">
    <link rel="stylesheet" href="~/Content/icons/flaticon-thick-icons/flaticon-thick.css">
    <link rel="stylesheet" href="~/Content/icons/flaticon-ventures/flaticon-ventures.css">

    <link href="~/Content/css/style.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</head>

<body class="not-transparent-header">
    <div class="container-wrapper">
        <header id="header">
            <nav class="navbar navbar-default navbar-fixed-top navbar-sticky-function">

                <div class="container">

                    <div class="logo-wrapper">
                        <div class="logo">
                            <a href="~/Home/Index"><img src="~/Content/images/logo.jpg" /></a>
                        </div>
                    </div>
                    <div id="navbar" class="navbar-nav-wrapper navbar-arrow">
                        <ul class="nav navbar-nav" id="responsive-menu">
                            <li></li>
                            <li></li>
                            <li></li>
                            <li></li>
                            <li></li>
                        </ul>
                    </div>

                    <div class="nav-mini-wrapper">
                        <ul class="nav-mini sign-in">
                            <li><a href="~/Login/Index">ingresar</a></li>
                            <li><a data-toggle="modal" href="~/Login/Registrarse">registrate</a></li>
                        </ul>
                    </div>
                </div>
                <div id="slicknav-mobile"></div>
            </nav>
        </header>

        <div class="main-wrapper">
            <div class="breadcrumb-wrapper">
                <div class="container">
                    <ol class="breadcrumb-list">
                        <li><a href="~/Home/Index">Inicio</a></li>
                        <li><span>Registrate</span></li>
                    </ol>
                </div>
            </div>


            <div class="login-container-wrapper">
                <div class="container">
                    <div class="row">
                        <div class="col-md-10 col-md-offset-1">
                            <div class="row">
                                <div class="col-sm-6 col-sm-offset-3">
                                    @using (Html.BeginForm("Registrarse", "Login", FormMethod.Post))
                                    {
                                        <div class="login-box-wrapper">
                                            <div class="modal-header">
                                                <h3 class="modal-title text-center">Registrate </h3>
                                            </div>

                                            <div class="modal-body">
                                                <div class="row gap-20">
                                                    <div class="col-sm-12 col-md-12">
                                                        <div class="form-group">
                                                            @Html.LabelFor(x => x.Nombre)
                                                            @Html.TextBoxFor(x => x.Nombre, new { @class = "form-control" })
                                                            @Html.ValidationMessageFor(x => x.Nombre, null, new { @class = "label label-danger" })
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-12 col-md-12">
                                                        <div class="form-group">
                                                            @Html.LabelFor(x => x.Apellido)
                                                            @Html.TextBoxFor(x => x.Apellido, new { @class = "form-control" })
                                                            @Html.ValidationMessageFor(x => x.Apellido, null, new { @class = "label label-danger" })
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-12 col-md-12">
                                                        <div class="form-group">
                                                            @Html.LabelFor(x => x.Correo)
                                                            @Html.TextBoxFor(x => x.Correo, new { @class = "form-control" })
                                                            @Html.ValidationMessageFor(x => x.Correo, null, new { @class = "label label-danger" })

                                                            <div id="correoError" class="label label-danger"></div>
                                                        </div>
                                                    </div>

                                                    <div class="col-sm-12 col-md-12">
                                                        <div class="form-group">
                                                            @Html.LabelFor(x => x.Password)
                                                            @Html.PasswordFor(x => x.Password, new { @class = "form-control" })
                                                            @Html.ValidationMessageFor(x => x.Password, null, new { @class = "label label-danger" })
                                                        </div>
                                                    </div>



                                                    <div class="col-sm-12 col-md-12">
                                                        <div class="form-group">
                                                            <label>Nivel Usuario</label>
                                                            <select name="Id_Tipo_Usuario" class="form-control">
                                                                <option @(Model.Id_Tipo_Usuario == null ? "selected" : "") value="">--Seleccione--</option>
                                                                <option @(Model.Id_Tipo_Usuario == 2 ? "selected" : "") value="2">Tecnico</option>
                                                                <option @(Model.Id_Tipo_Usuario == 3 ? "selected" : "") value="3">Cliente</option>
                                                            </select>
                                                            @Html.ValidationMessageFor(x => x.Id_Tipo_Usuario, null, new { @class = "label label-danger" })
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>

                                            <div class="modal-footer text-center">
                                                <button id="btnEnviar" type="submit" class="btn btn-primary" disabled>Enviar</button>
                                            </div>
                                        </div>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>




    <div id="back-to-top">
        <a href="#"><i class="ion-ios-arrow-up"></i></a>
    </div>



    <script>
        $(document).ready(function () {
            // Obtener el campo de correo electrónico
            var correoInput = $('#Correo');
            // Obtener el contenedor del mensaje de error
            var errorContainer = $('#correoError');
            // Obtener el botón de envío
            var btnEnviar = $('#btnEnviar');

            // Agregar evento de cambio al campo de correo electrónico
            correoInput.on('change', function () {
                // Obtener el valor actual del campo de correo electrónico
                var correo = correoInput.val();

                // Realizar una solicitud al servidor para verificar el correo electrónico
                $.ajax({
                    url: '/Login/VerificarCorreo',
                    method: 'POST',
                    data: { correo: correo },
                    success: function (response) {
                        // Si el correo existe, mostrar el mensaje de error y deshabilitar el botón de envío
                        if (response.existe) {
                            errorContainer.text('El correo electrónico ya existe. Por favor, elija otro.');
                            btnEnviar.attr('disabled', 'disabled');
                        } else {
                            errorContainer.text('');
                            btnEnviar.removeAttr('disabled');
                        }
                    },
                    error: function () {
                        // Manejar el error de la solicitud AJAX
                        errorContainer.text('Error al verificar el correo electrónico.');
                        btnEnviar.attr('disabled', 'disabled');
                    }
                });
            });
        });
    </script>





    <script type="text/javascript" src="~/Content/js/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="~/Content/js/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="~/Content/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="~/Content/js/bootstrap-modalmanager.js"></script>
    <script type="text/javascript" src="~/Content/js/bootstrap-modal.js"></script>
    <script type="text/javascript" src="~/Content/js/smoothscroll.js"></script>
    <script type="text/javascript" src="~/Content/js/jquery.easing.1.3.js"></script>
    <script type="text/javascript" src="~/Content/js/jquery.waypoints.min.js"></script>
    <script type="text/javascript" src="~/Content/js/wow.min.js"></script>
    <script type="text/javascript" src="~/Content/js/jquery.slicknav.min.js"></script>
    <script type="text/javascript" src="~/Content/js/jquery.placeholder.min.js"></script>
    <script type="text/javascript" src="~/Content/js/bootstrap-tokenfield.js"></script>
    <script type="text/javascript" src="~/Content/js/typeahead.bundle.min.js"></script>
    <script type="text/javascript" src="~/Content/js/bootstrap3-wysihtml5.min.js"></script>
    <script type="text/javascript" src="~/Content/js/bootstrap-select.min.js"></script>
    <script type="text/javascript" src="~/Content/js/jquery-filestyle.min.js"></script>
    <script type="text/javascript" src="~/Content/js/bootstrap-select.js"></script>
    <script type="text/javascript" src="~/Content/js/ion.rangeSlider.min.js"></script>
    <script type="text/javascript" src="~/Content/js/handlebars.min.js"></script>
    <script type="text/javascript" src="~/Content/js/jquery.countimator.js"></script>
    <script type="text/javascript" src="~/Content/js/jquery.countimator.wheel.js"></script>
    <script type="text/javascript" src="~/Content/js/slick.min.js"></script>
    <script type="text/javascript" src="~/Content/js/easy-ticker.js"></script>
    <script type="text/javascript" src="~/Content/js/jquery.introLoader.min.js"></script>
    <script type="text/javascript" src="~/Content/js/jquery.responsivegrid.js"></script>
    <script type="text/javascript" src="~/Content/js/customs.js"></script>


</body>

</html>
